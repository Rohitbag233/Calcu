const inputBox=document.getElementById('inputBox');const themeSwitch=document.getElementById('themeSwitch');let string='';function updateInputBox(value){inputBox.value=value;}
function handleButtonClick(e){const value=e.target.innerHTML;if(value==='AC'){string='';updateInputBox('');}else if(value==='DEL'){string=string.substring(0,string.length-1);updateInputBox(string);}else if(value==='='){try{const result=eval(string);updateInputBox(result);string=result.toString();}catch(error){updateInputBox('Error');string='';}}else if(value==='%'){string+='/100';updateInputBox(string);}else{string+=value;updateInputBox(string);}}
const buttons=document.querySelectorAll('.button');buttons.forEach(button=>{button.addEventListener('click',handleButtonClick);});window.addEventListener('keydown',(e)=>{const keyValue=e.key;if(keyValue==='Enter'){handleButtonClick({target:{innerHTML:'='}});}else if(keyValue==='Backspace'){handleButtonClick({target:{innerHTML:'DEL'}});}else if(keyValue==='Escape'){handleButtonClick({target:{innerHTML:'AC'}});}else if(keyValue>='0'&&keyValue<='9'||keyValue==='.'||keyValue==='+'||keyValue==='-'||keyValue==='*'||keyValue==='/'){handleButtonClick({target:{innerHTML:keyValue}});}});themeSwitch.addEventListener('change',()=>{document.body.classList.toggle('light-mode',themeSwitch.checked);});